class Solution:
    def numOfWays(self, n):
        MOD = 10**9 + 7

        # Base case: first row
        two_color = 6    # ABA type
        three_color = 6  # ABC type

        for _ in range(1, n):
            new_two_color = (3 * two_color + 2 * three_color) % MOD
            new_three_color = (2 * two_color + 2 * three_color) % MOD
            two_color, three_color = new_two_color, new_three_color

        return (two_color + three_color) % MOD
